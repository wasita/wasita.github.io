import{aD as D,aE as K,a7 as O,W as R,aF as Y,h as p,_ as J,aG as W,aH as Z,t as Q,aI as X,aJ as m,aK as x,aL as ee,aM as te,q as re,aN as se,k as $,aO as ae}from"./BsyiwqJB.js";import{i as ie,c as fe,d as ue,n as oe,a as le}from"./BtQjMVsd.js";import{t as ce,c as ne,s as _e}from"./l4khQ9gc.js";function ve(e,r){if(r){const t=document.body;e.autofocus=!0,D(()=>{document.activeElement===t&&e.focus()})}}let U=!1;function de(){U||(U=!0,document.addEventListener("reset",e=>{Promise.resolve().then(()=>{if(!e.defaultPrevented)for(const r of e.target.elements)r.__on_r?.()})},{capture:!0}))}function be(e,r){var t=void 0,a;K(()=>{t!==(t=r())&&(a&&(O(a),a=null),t&&(a=R(()=>{Y(()=>t(e))})))})}function he(e,r,t,a,f,v){var b=e.__className;if(p||b!==t||b===void 0){var g=ce(t,a,v);(!p||g!==e.getAttribute("class"))&&(g==null?e.removeAttribute("class"):r?e.className=g:e.setAttribute("class",g)),e.__className=t}else if(v&&f!==v)for(var d in v){var c=!!v[d];(f==null||c!==!!f[d])&&e.classList.toggle(d,c)}return v}function M(e,r,t=!1){if(e.multiple){if(r==null)return;if(!J(r))return W();for(var a of e.options)a.selected=r.includes(H(a));return}for(a of e.options){var f=H(a);if(Z(f,r)){a.selected=!0;return}}(!t||r!==void 0)&&(e.selectedIndex=-1)}function ge(e){var r=new MutationObserver(()=>{M(e,e.__value)});r.observe(e,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["value"]}),Q(()=>{r.disconnect()})}function H(e){return"__value"in e?e.__value:e.value}const S=Symbol("class"),k=Symbol("style"),j=Symbol("is custom element"),q=Symbol("is html");function ye(e){if(p){var r=!1,t=()=>{if(!r){if(r=!0,e.hasAttribute("value")){var a=e.value;T(e,"value",null),e.value=a}if(e.hasAttribute("checked")){var f=e.checked;T(e,"checked",null),e.checked=f}}};e.__on_r=t,D(t),de()}}function Ae(e,r){r?e.hasAttribute("selected")||e.setAttribute("selected",""):e.removeAttribute("selected")}function T(e,r,t,a){var f=B(e);p&&(f[r]=e.getAttribute(r),r==="src"||r==="srcset"||r==="href"&&e.nodeName==="LINK")||f[r]!==(f[r]=t)&&(r==="loading"&&(e[X]=t),t==null?e.removeAttribute(r):typeof t!="string"&&F(e).includes(r)?e[r]=t:e.setAttribute(r,t))}function pe(e,r,t,a,f=!1,v=!1){if(p&&f&&e.tagName==="INPUT"){var b=e,g=b.type==="checkbox"?"defaultChecked":"defaultValue";g in t||ye(b)}var d=B(e),c=d[j],y=!d[q];let N=p&&c;N&&$(!1);var u=r||{},E=e.tagName==="OPTION";for(var h in r)h in t||(t[h]=null);t.class?t.class=ne(t.class):t[S]&&(t.class=null),t[k]&&(t.style??=null);var I=F(e);for(const s in t){let i=t[s];if(E&&s==="value"&&i==null){e.value=e.__value="",u[s]=i;continue}if(s==="class"){var L=e.namespaceURI==="http://www.w3.org/1999/xhtml";he(e,L,i,a,r?.[S],t[S]),u[s]=i,u[S]=t[S];continue}if(s==="style"){_e(e,i,r?.[k],t[k]),u[s]=i,u[k]=t[k];continue}var n=u[s];if(!(i===n&&!(i===void 0&&e.hasAttribute(s)))){u[s]=i;var C=s[0]+s[1];if(C!=="$$")if(C==="on"){const _={},A="$$"+s;let o=s.slice(2);var w=le(o);if(ie(o)&&(o=o.slice(0,-7),_.capture=!0),!w&&n){if(i!=null)continue;e.removeEventListener(o,u[A],_),u[A]=null}if(i!=null)if(w)e[`__${o}`]=i,ue([o]);else{let G=function(z){u[s].call(this,z)};u[A]=fe(o,e,G,_)}else w&&(e[`__${o}`]=void 0)}else if(s==="style")T(e,s,i);else if(s==="autofocus")ve(e,!!i);else if(!c&&(s==="__value"||s==="value"&&i!=null))e.value=e.__value=i;else if(s==="selected"&&E)Ae(e,i);else{var l=s;y||(l=oe(l));var P=l==="defaultValue"||l==="defaultChecked";if(i==null&&!c&&!P)if(d[s]=null,l==="value"||l==="checked"){let _=e;const A=r===void 0;if(l==="value"){let o=_.defaultValue;_.removeAttribute(l),_.defaultValue=o,_.value=_.__value=A?o:null}else{let o=_.defaultChecked;_.removeAttribute(l),_.defaultChecked=o,_.checked=A?o:!1}}else e.removeAttribute(s);else P||I.includes(l)&&(c||typeof i!="string")?(e[l]=i,l in d&&(d[l]=ae)):typeof i!="function"&&T(e,l,i)}}}return N&&$(!0),u}function Se(e,r,t=[],a=[],f=[],v,b=!1,g=!1){te(f,t,a,d=>{var c=void 0,y={},N=e.nodeName==="SELECT",u=!1;if(K(()=>{var h=r(...d.map(re)),I=pe(e,c,h,v,b,g);u&&N&&"value"in h&&M(e,h.value);for(let n of Object.getOwnPropertySymbols(y))h[n]||O(y[n]);for(let n of Object.getOwnPropertySymbols(h)){var L=h[n];n.description===se&&(!c||L!==c[n])&&(y[n]&&O(y[n]),y[n]=R(()=>be(e,()=>L))),I[n]=L}c=I}),N){var E=e;Y(()=>{M(E,c.value,!0),ge(E)})}u=!0})}function B(e){return e.__attributes??={[j]:e.nodeName.includes("-"),[q]:e.namespaceURI===m}}var V=new Map;function F(e){var r=e.getAttribute("is")||e.nodeName,t=V.get(r);if(t)return t;V.set(r,t=[]);for(var a,f=e,v=Element.prototype;v!==f;){a=ee(f);for(var b in a)a[b].set&&t.push(b);f=x(f)}return t}export{Se as a,he as b,T as s};
